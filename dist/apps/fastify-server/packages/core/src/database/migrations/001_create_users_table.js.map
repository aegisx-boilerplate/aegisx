{
  "version": 3,
  "sources": ["../../../../../../../../packages/core/src/database/migrations/001_create_users_table.ts"],
  "sourcesContent": ["/**\n * Migration: Create Users Table\n */\n\nimport type { Knex } from 'knex';\n\nexport async function up(knex: Knex): Promise<void> {\n    return knex.schema.createTable('users', (table) => {\n        table.uuid('id').primary().defaultTo(knex.raw('gen_random_uuid()'));\n        table.string('email').unique().notNullable();\n        table.string('firstName').notNullable();\n        table.string('lastName').notNullable();\n        table.string('passwordHash').notNullable();\n        table.boolean('isActive').defaultTo(true);\n        table.timestamp('lastLoginAt').nullable();\n        table.timestamp('createdAt').defaultTo(knex.fn.now());\n        table.timestamp('updatedAt').defaultTo(knex.fn.now());\n\n        // Indexes\n        table.index(['email']);\n        table.index(['isActive']);\n        table.index(['createdAt']);\n    });\n}\n\nexport async function down(knex: Knex): Promise<void> {\n    return knex.schema.dropTable('users');\n} "],
  "mappings": ";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA,eAAsB,GAAG,MAA2B;AAChD,SAAO,KAAK,OAAO,YAAY,SAAS,CAAC,UAAU;AAC/C,UAAM,KAAK,IAAI,EAAE,QAAQ,EAAE,UAAU,KAAK,IAAI,mBAAmB,CAAC;AAClE,UAAM,OAAO,OAAO,EAAE,OAAO,EAAE,YAAY;AAC3C,UAAM,OAAO,WAAW,EAAE,YAAY;AACtC,UAAM,OAAO,UAAU,EAAE,YAAY;AACrC,UAAM,OAAO,cAAc,EAAE,YAAY;AACzC,UAAM,QAAQ,UAAU,EAAE,UAAU,IAAI;AACxC,UAAM,UAAU,aAAa,EAAE,SAAS;AACxC,UAAM,UAAU,WAAW,EAAE,UAAU,KAAK,GAAG,IAAI,CAAC;AACpD,UAAM,UAAU,WAAW,EAAE,UAAU,KAAK,GAAG,IAAI,CAAC;AAGpD,UAAM,MAAM,CAAC,OAAO,CAAC;AACrB,UAAM,MAAM,CAAC,UAAU,CAAC;AACxB,UAAM,MAAM,CAAC,WAAW,CAAC;AAAA,EAC7B,CAAC;AACL;AAEA,eAAsB,KAAK,MAA2B;AAClD,SAAO,KAAK,OAAO,UAAU,OAAO;AACxC;",
  "names": []
}
